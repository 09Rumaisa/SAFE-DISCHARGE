{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rumai/OneDrive/Desktop/SAFE-DISCHARGE-AI/imagine%20cup%20project/dashboard/app/components/MockData.ts"],"sourcesContent":["export const MOCK_PATIENT = {\r\n  demographics: {\r\n    first_name: \"John\",\r\n    last_name: \"Doe\",\r\n    patient_id: \"MRN-123456\",\r\n    date_of_birth: \"1975-05-15\",\r\n    gender: \"Male\",\r\n    weight_kg: 82.5\r\n  },\r\n  medications: [\r\n    { name: \"Warfarin\", dosage: \"5mg\", frequency: \"Once daily\", indication: \"Atrial Fibrillation\" },\r\n    { name: \"Ibuprofen\", dosage: \"400mg\", frequency: \"As needed\", indication: \"Pain\" }\r\n  ],\r\n  lab_results: [\r\n    { test_name: \"INR\", value: 3.8, unit: \"ratio\", reference_range: \"2.0-3.0\" },\r\n    { test_name: \"Creatinine\", value: 1.1, unit: \"mg/dL\", reference_range: \"0.7-1.3\" }\r\n  ],\r\n  vital_signs: {\r\n    heart_rate: 105,\r\n    sys_bp: 105,\r\n    dia_bp: 70,\r\n    temperature_c: 38.2,\r\n    resp_rate: 22,\r\n    sp_o2: 94\r\n  },\r\n  clinical_notes: [\r\n    { note_id: \"N1\", author_role: \"ED Physician\", content: \"Patient reports recent calf pain and increased shortness of breath. History of AFib on Warfarin. Current INR elevated.\" }\r\n  ],\r\n  allergies: [\"Penicillin\"],\r\n  active_problems: [\"Atrial Fibrillation\", \"Hypertension\"]\r\n};\r\n\r\nexport const MOCK_ANALYSIS = {\r\n  summary: \"Patient presents with elevated INR (3.8) and is currently taking Ibuprofen, which significantly increases bleeding risk. NEWS2 score indicates moderate clinical warning. Potential Sepsis/Infection markers present.\",\r\n  flags: [\r\n    {\r\n      severity: \"Red\",\r\n      title: \"High Bleeding Risk\",\r\n      description: \"INR is 3.8 (Target 2.0-3.0). Interaction between Warfarin and Ibuprofen increases hemorrhage risk.\",\r\n      action_required: \"Discontinue Ibuprofen immediately. Consider Vitamin K if bleeding occurs.\",\r\n      citations: [{ source_name: \"NICE KTT21\", section: \"Warfarin Interaction\", snippet: \"Significant interactions include NSAIDs (e.g., Ibuprofen) which raise hemorrhage risk.\" }]\r\n    },\r\n    {\r\n      severity: \"Yellow\",\r\n      title: \"Moderate Clinical Warning\",\r\n      description: \"Elevated Heart Rate (105) and Resp Rate (22). NEWS2 score signals potential decompensation.\",\r\n      action_required: \"Frequent vital signs monitoring every 4 hours.\",\r\n      citations: [{ source_name: \"NICE NG51\", section: \"Sepsis Risk\", snippet: \"Heart Rate > 100bpm and Resp Rate > 20/min are markers for clinical review.\" }]\r\n    }\r\n  ],\r\n  relevant_protocols: [\r\n    { title: \"Warfarin Management\", summary: \"Target INR for AF is 2.5. INR > 3.0 increases major bleeding risk.\", source: \"NICE KTT21\" },\r\n    { title: \"Sepsis Early Warning\", summary: \"Early identification using NEWS2 is critical for patient safety.\", source: \"NICE NG51\" }\r\n  ]\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAO,MAAM,eAAe;IAC1B,cAAc;QACZ,YAAY;QACZ,WAAW;QACX,YAAY;QACZ,eAAe;QACf,QAAQ;QACR,WAAW;IACb;IACA,aAAa;QACX;YAAE,MAAM;YAAY,QAAQ;YAAO,WAAW;YAAc,YAAY;QAAsB;QAC9F;YAAE,MAAM;YAAa,QAAQ;YAAS,WAAW;YAAa,YAAY;QAAO;KAClF;IACD,aAAa;QACX;YAAE,WAAW;YAAO,OAAO;YAAK,MAAM;YAAS,iBAAiB;QAAU;QAC1E;YAAE,WAAW;YAAc,OAAO;YAAK,MAAM;YAAS,iBAAiB;QAAU;KAClF;IACD,aAAa;QACX,YAAY;QACZ,QAAQ;QACR,QAAQ;QACR,eAAe;QACf,WAAW;QACX,OAAO;IACT;IACA,gBAAgB;QACd;YAAE,SAAS;YAAM,aAAa;YAAgB,SAAS;QAAyH;KACjL;IACD,WAAW;QAAC;KAAa;IACzB,iBAAiB;QAAC;QAAuB;KAAe;AAC1D;AAEO,MAAM,gBAAgB;IAC3B,SAAS;IACT,OAAO;QACL;YACE,UAAU;YACV,OAAO;YACP,aAAa;YACb,iBAAiB;YACjB,WAAW;gBAAC;oBAAE,aAAa;oBAAc,SAAS;oBAAwB,SAAS;gBAAyF;aAAE;QAChL;QACA;YACE,UAAU;YACV,OAAO;YACP,aAAa;YACb,iBAAiB;YACjB,WAAW;gBAAC;oBAAE,aAAa;oBAAa,SAAS;oBAAe,SAAS;gBAA8E;aAAE;QAC3J;KACD;IACD,oBAAoB;QAClB;YAAE,OAAO;YAAuB,SAAS;YAAsE,QAAQ;QAAa;QACpI;YAAE,OAAO;YAAwB,SAAS;YAAoE,QAAQ;QAAY;KACnI;AACH"}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rumai/OneDrive/Desktop/SAFE-DISCHARGE-AI/imagine%20cup%20project/dashboard/app/components/PatientDetails.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Activity, Beaker, ClipboardList, Pill, Plus, Trash2 } from \"lucide-react\";\r\nimport { MOCK_PATIENT } from \"./MockData\";\r\n\r\nexport default function PatientDetails() {\r\n    const { demographics, medications, lab_results, vital_signs, clinical_notes } = MOCK_PATIENT;\r\n    const [editMode, setEditMode] = useState(false);\r\n\r\n    return (\r\n        <div className=\"flex flex-col h-full gap-4 overflow-y-auto clinical-scroll pr-2\">\r\n            {/* Patient Overview Card */}\r\n            <div className=\"glass-card p-6 rounded-2xl\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                    <h3 className=\"section-title\">\r\n                        <Activity size={20} className=\"text-blue-400\" />\r\n                        Patient Overview\r\n                    </h3>\r\n                    <button \r\n                        onClick={() => setEditMode(!editMode)}\r\n                        className=\"text-xs px-3 py-1 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition\"\r\n                    >\r\n                        {editMode ? \"Done\" : \"Edit\"}\r\n                    </button>\r\n                </div>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                        <label className=\"section-subtitle block mb-1\">Full Name</label>\r\n                        <div className=\"text-white font-semibold\">{demographics.first_name} {demographics.last_name}</div>\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"section-subtitle block mb-1\">Medical Record #</label>\r\n                        <div className=\"text-white font-mono font-semibold\">{demographics.patient_id}</div>\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"section-subtitle block mb-1\">Date of Birth</label>\r\n                        <div className=\"text-white font-semibold\">{demographics.date_of_birth}</div>\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"section-subtitle block mb-1\">Status</label>\r\n                        <div className=\"inline-flex items-center gap-2\">\r\n                            <span className=\"w-2 h-2 bg-emerald-500 rounded-full animate-pulse\" />\r\n                            <span className=\"text-emerald-400 font-semibold\">Stable</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Vital Signs */}\r\n            <div className=\"glass-card p-6 rounded-2xl\">\r\n                <h3 className=\"section-title mb-4\">\r\n                    <Activity size={20} className=\"text-rose-400\" />\r\n                    Vital Signs\r\n                </h3>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                    <VitalStatCard \r\n                        label=\"Heart Rate\" \r\n                        value={vital_signs.heart_rate} \r\n                        unit=\"bpm\" \r\n                        alert={vital_signs.heart_rate > 100}\r\n                        normal=\"60-100\"\r\n                    />\r\n                    <VitalStatCard \r\n                        label=\"Blood Pressure\" \r\n                        value={`${vital_signs.sys_bp}/72`} \r\n                        unit=\"mmHg\" \r\n                        alert={vital_signs.sys_bp < 90}\r\n                        normal=\"90-120/60-80\"\r\n                    />\r\n                    <VitalStatCard \r\n                        label=\"Temperature\" \r\n                        value={vital_signs.temperature_c} \r\n                        unit=\"¬∞C\" \r\n                        alert={vital_signs.temperature_c > 38}\r\n                        normal=\"36.5-37.5\"\r\n                    />\r\n                    <VitalStatCard \r\n                        label=\"Oxygen Saturation\" \r\n                        value={vital_signs.sp_o2} \r\n                        unit=\"%\" \r\n                        alert={vital_signs.sp_o2 < 92}\r\n                        normal=\"94-100\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Current Medications */}\r\n            <div className=\"glass-card p-6 rounded-2xl\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                    <h3 className=\"section-title\">\r\n                        <Pill size={20} className=\"text-indigo-400\" />\r\n                        Current Medications\r\n                    </h3>\r\n                    <button className=\"p-2 hover:bg-slate-700 rounded-lg transition\" title=\"Add medication\">\r\n                        <Plus size={18} className=\"text-blue-400\" />\r\n                    </button>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                    {medications.map((med, i) => (\r\n                        <div key={i} className=\"glass-card-sm p-3 rounded-lg flex items-start justify-between\">\r\n                            <div>\r\n                                <div className=\"font-semibold text-white text-sm\">{med.name}</div>\r\n                                <div className=\"text-xs text-slate-400 mt-1\">{med.dosage} ‚Ä¢ {med.frequency}</div>\r\n                            </div>\r\n                            <button className=\"text-slate-400 hover:text-red-400 transition p-1\">\r\n                                <Trash2 size={16} />\r\n                            </button>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Laboratory Results */}\r\n            <div className=\"glass-card p-6 rounded-2xl\">\r\n                <h3 className=\"section-title mb-4\">\r\n                    <Beaker size={20} className=\"text-emerald-400\" />\r\n                    Laboratory Results\r\n                </h3>\r\n                <div className=\"space-y-2\">\r\n                    {lab_results.map((lab, i) => (\r\n                        <div key={i} className=\"flex items-center justify-between p-3 glass-card-sm rounded-lg\">\r\n                            <div>\r\n                                <div className=\"text-sm font-semibold text-white\">{lab.test_name}</div>\r\n                                <div className=\"text-xs text-slate-400\">Reference: {lab.reference_range}</div>\r\n                            </div>\r\n                            <div className={`text-lg font-bold font-mono ${\r\n                                lab.value > 3.0 ? 'text-red-400' : 'text-green-400'\r\n                            }`}>\r\n                                {lab.value}\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Clinical Notes */}\r\n            <div className=\"glass-card p-6 rounded-2xl\">\r\n                <h3 className=\"section-title mb-4\">\r\n                    <ClipboardList size={20} className=\"text-amber-400\" />\r\n                    Clinical Notes\r\n                </h3>\r\n                <div className=\"bg-slate-700/30 p-4 rounded-lg border border-slate-600\">\r\n                    <p className=\"text-slate-300 text-sm leading-relaxed\">\r\n                        \"{clinical_notes[0].content}\"\r\n                    </p>\r\n                    <div className=\"text-xs text-slate-500 mt-3\">\r\n                        Last updated: {new Date().toLocaleTimeString()}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction VitalStatCard({ \r\n    label, \r\n    value, \r\n    unit, \r\n    alert, \r\n    normal \r\n}: { \r\n    label: string\r\n    value: any\r\n    unit: string\r\n    alert?: boolean\r\n    normal?: string\r\n}) {\r\n    return (\r\n        <div className={`glass-card-sm p-4 rounded-lg border-2 transition ${\r\n            alert \r\n                ? 'border-red-600/50 bg-red-900/10' \r\n                : 'border-green-600/30 bg-green-900/5'\r\n        }`}>\r\n            <div className=\"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2\">{label}</div>\r\n            <div className=\"flex items-baseline justify-between\">\r\n                <span className={`text-2xl font-bold ${\r\n                    alert ? 'text-red-400' : 'text-green-400'\r\n                }`}>\r\n                    {value}\r\n                </span>\r\n                <span className=\"text-xs text-slate-400 ml-2\">{unit}</span>\r\n            </div>\r\n            <div className=\"text-xs text-slate-500 mt-2\">Normal: {normal}</div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAJA;;;;;AAMe,SAAS;IACpB,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,WAAW,EAAE,WAAW,EAAE,cAAc,EAAE,GAAG,6IAAY;IAC5F,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAG,WAAU;;kDACV,8OAAC,sNAAQ;wCAAC,MAAM;wCAAI,WAAU;;;;;;oCAAkB;;;;;;;0CAGpD,8OAAC;gCACG,SAAS,IAAM,YAAY,CAAC;gCAC5B,WAAU;0CAET,WAAW,SAAS;;;;;;;;;;;;kCAG7B,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;;kDACG,8OAAC;wCAAM,WAAU;kDAA8B;;;;;;kDAC/C,8OAAC;wCAAI,WAAU;;4CAA4B,aAAa,UAAU;4CAAC;4CAAE,aAAa,SAAS;;;;;;;;;;;;;0CAE/F,8OAAC;;kDACG,8OAAC;wCAAM,WAAU;kDAA8B;;;;;;kDAC/C,8OAAC;wCAAI,WAAU;kDAAsC,aAAa,UAAU;;;;;;;;;;;;0CAEhF,8OAAC;;kDACG,8OAAC;wCAAM,WAAU;kDAA8B;;;;;;kDAC/C,8OAAC;wCAAI,WAAU;kDAA4B,aAAa,aAAa;;;;;;;;;;;;0CAEzE,8OAAC;;kDACG,8OAAC;wCAAM,WAAU;kDAA8B;;;;;;kDAC/C,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;gDAAK,WAAU;;;;;;0DAChB,8OAAC;gDAAK,WAAU;0DAAiC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAOjE,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;;0CACV,8OAAC,sNAAQ;gCAAC,MAAM;gCAAI,WAAU;;;;;;4BAAkB;;;;;;;kCAGpD,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCACG,OAAM;gCACN,OAAO,YAAY,UAAU;gCAC7B,MAAK;gCACL,OAAO,YAAY,UAAU,GAAG;gCAChC,QAAO;;;;;;0CAEX,8OAAC;gCACG,OAAM;gCACN,OAAO,GAAG,YAAY,MAAM,CAAC,GAAG,CAAC;gCACjC,MAAK;gCACL,OAAO,YAAY,MAAM,GAAG;gCAC5B,QAAO;;;;;;0CAEX,8OAAC;gCACG,OAAM;gCACN,OAAO,YAAY,aAAa;gCAChC,MAAK;gCACL,OAAO,YAAY,aAAa,GAAG;gCACnC,QAAO;;;;;;0CAEX,8OAAC;gCACG,OAAM;gCACN,OAAO,YAAY,KAAK;gCACxB,MAAK;gCACL,OAAO,YAAY,KAAK,GAAG;gCAC3B,QAAO;;;;;;;;;;;;;;;;;;0BAMnB,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAG,WAAU;;kDACV,8OAAC,0MAAI;wCAAC,MAAM;wCAAI,WAAU;;;;;;oCAAoB;;;;;;;0CAGlD,8OAAC;gCAAO,WAAU;gCAA+C,OAAM;0CACnE,cAAA,8OAAC,0MAAI;oCAAC,MAAM;oCAAI,WAAU;;;;;;;;;;;;;;;;;kCAGlC,8OAAC;wBAAI,WAAU;kCACV,YAAY,GAAG,CAAC,CAAC,KAAK,kBACnB,8OAAC;gCAAY,WAAU;;kDACnB,8OAAC;;0DACG,8OAAC;gDAAI,WAAU;0DAAoC,IAAI,IAAI;;;;;;0DAC3D,8OAAC;gDAAI,WAAU;;oDAA+B,IAAI,MAAM;oDAAC;oDAAI,IAAI,SAAS;;;;;;;;;;;;;kDAE9E,8OAAC;wCAAO,WAAU;kDACd,cAAA,8OAAC,oNAAM;4CAAC,MAAM;;;;;;;;;;;;+BANZ;;;;;;;;;;;;;;;;0BActB,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;;0CACV,8OAAC,gNAAM;gCAAC,MAAM;gCAAI,WAAU;;;;;;4BAAqB;;;;;;;kCAGrD,8OAAC;wBAAI,WAAU;kCACV,YAAY,GAAG,CAAC,CAAC,KAAK,kBACnB,8OAAC;gCAAY,WAAU;;kDACnB,8OAAC;;0DACG,8OAAC;gDAAI,WAAU;0DAAoC,IAAI,SAAS;;;;;;0DAChE,8OAAC;gDAAI,WAAU;;oDAAyB;oDAAY,IAAI,eAAe;;;;;;;;;;;;;kDAE3E,8OAAC;wCAAI,WAAW,CAAC,4BAA4B,EACzC,IAAI,KAAK,GAAG,MAAM,iBAAiB,kBACrC;kDACG,IAAI,KAAK;;;;;;;+BARR;;;;;;;;;;;;;;;;0BAgBtB,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;;0CACV,8OAAC,yOAAa;gCAAC,MAAM;gCAAI,WAAU;;;;;;4BAAmB;;;;;;;kCAG1D,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAE,WAAU;;oCAAyC;oCAChD,cAAc,CAAC,EAAE,CAAC,OAAO;oCAAC;;;;;;;0CAEhC,8OAAC;gCAAI,WAAU;;oCAA8B;oCAC1B,IAAI,OAAO,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;;;AAMpE;AAEA,SAAS,cAAc,EACnB,KAAK,EACL,KAAK,EACL,IAAI,EACJ,KAAK,EACL,MAAM,EAOT;IACG,qBACI,8OAAC;QAAI,WAAW,CAAC,iDAAiD,EAC9D,QACM,oCACA,sCACR;;0BACE,8OAAC;gBAAI,WAAU;0BAAsE;;;;;;0BACrF,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAK,WAAW,CAAC,mBAAmB,EACjC,QAAQ,iBAAiB,kBAC3B;kCACG;;;;;;kCAEL,8OAAC;wBAAK,WAAU;kCAA+B;;;;;;;;;;;;0BAEnD,8OAAC;gBAAI,WAAU;;oBAA8B;oBAAS;;;;;;;;;;;;;AAGlE"}},
    {"offset": {"line": 710, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rumai/OneDrive/Desktop/SAFE-DISCHARGE-AI/imagine%20cup%20project/dashboard/app/services/api.ts"],"sourcesContent":["/**\r\n * API service for connecting to the backend\r\n */\r\n\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\r\n\r\nexport interface PatientRecord {\r\n  demographics: {\r\n    patient_id: string;\r\n    first_name: string;\r\n    last_name: string;\r\n    date_of_birth: string;\r\n    gender: string;\r\n    weight_kg?: number;\r\n    height_cm?: number;\r\n  };\r\n  medications: Array<{\r\n    name: string;\r\n    dosage: string;\r\n    frequency: string;\r\n    route?: string;\r\n    indication?: string;\r\n  }>;\r\n  lab_results: Array<{\r\n    test_name: string;\r\n    value: number;\r\n    unit: string;\r\n    reference_range?: string;\r\n  }>;\r\n  clinical_notes: Array<{\r\n    note_id: string;\r\n    author_role: string;\r\n    content: string;\r\n  }>;\r\n  vital_signs?: {\r\n    heart_rate?: number;\r\n    sys_bp?: number;\r\n    dia_bp?: number;\r\n    temperature_c?: number;\r\n    resp_rate?: number;\r\n    sp_o2?: number;\r\n  };\r\n  allergies: string[];\r\n  active_problems: string[];\r\n}\r\n\r\nexport interface AnalysisResponse {\r\n  summary: string;\r\n  flags: Array<{\r\n    severity: string;\r\n    title: string;\r\n    description: string;\r\n    action_required?: string;\r\n    citations: Array<{\r\n      source_name: string;\r\n      snippet?: string;\r\n    }>;\r\n  }>;\r\n  equity_flags: Array<{\r\n    category: string;\r\n    title: string;\r\n    description: string;\r\n    educational_note: string;\r\n    citations: Array<{\r\n      source_name: string;\r\n    }>;\r\n  }>;\r\n  relevant_protocols: Array<{\r\n    title: string;\r\n    summary: string;\r\n    source: string;\r\n  }>;\r\n  analysis_timestamp: string;\r\n}\r\n\r\nexport interface DischargeInstructions {\r\n  clinician_facing: string;\r\n  patient_facing: string;\r\n  comprehension_analysis?: {\r\n    score: number;\r\n    reading_level: number;\r\n    interpretation: string;\r\n    jargon_detected: string[];\r\n    simplified_version: string;\r\n    needs_improvement: boolean;\r\n  };\r\n  medication_changes: string[];\r\n  follow_up_required: string;\r\n  safety_netting: string;\r\n}\r\n\r\n/**\r\n * Analyze patient safety\r\n */\r\nexport async function analyzePatient(patient: PatientRecord): Promise<AnalysisResponse> {\r\n  const response = await fetch(`${API_BASE_URL}/v1/clinical/analyze`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(patient),\r\n  });\r\n\r\n  if (!response.ok) {\r\n    const error = await response.json();\r\n    throw new Error(error.detail?.message || 'Analysis failed');\r\n  }\r\n\r\n  return response.json();\r\n}\r\n\r\n/**\r\n * Generate discharge instructions\r\n */\r\nexport async function generateDischarge(\r\n  patient: PatientRecord,\r\n  analysis: AnalysisResponse\r\n): Promise<DischargeInstructions> {\r\n  const response = await fetch(`${API_BASE_URL}/v1/clinical/draft-discharge`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ patient, analysis }),\r\n  });\r\n\r\n  if (!response.ok) {\r\n    const error = await response.json();\r\n    throw new Error(error.detail?.message || 'Discharge generation failed');\r\n  }\r\n\r\n  return response.json();\r\n}\r\n\r\n/**\r\n * Submit clinician feedback\r\n */\r\nexport async function submitFeedback(feedback: {\r\n  alert_id: string;\r\n  action: 'accepted' | 'rejected' | 'modified';\r\n  clinician_note?: string;\r\n}): Promise<void> {\r\n  const response = await fetch(`${API_BASE_URL}/v1/feedback/submit`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(feedback),\r\n  });\r\n\r\n  if (!response.ok) {\r\n    throw new Error('Feedback submission failed');\r\n  }\r\n}\r\n\r\n/**\r\n * Check backend health\r\n */\r\nexport async function checkHealth(): Promise<{ status: string; version: string }> {\r\n  const response = await fetch(`${API_BASE_URL}/health`);\r\n  return response.json();\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;CAEC,GAED,MAAM,eAAe,6DAAmC;AA0FjD,eAAe,eAAe,OAAsB;IACzD,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,oBAAoB,CAAC,EAAE;QAClE,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QACA,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;QACjC,MAAM,IAAI,MAAM,MAAM,MAAM,EAAE,WAAW;IAC3C;IAEA,OAAO,SAAS,IAAI;AACtB;AAKO,eAAe,kBACpB,OAAsB,EACtB,QAA0B;IAE1B,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,4BAA4B,CAAC,EAAE;QAC1E,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QACA,MAAM,KAAK,SAAS,CAAC;YAAE;YAAS;QAAS;IAC3C;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;QACjC,MAAM,IAAI,MAAM,MAAM,MAAM,EAAE,WAAW;IAC3C;IAEA,OAAO,SAAS,IAAI;AACtB;AAKO,eAAe,eAAe,QAIpC;IACC,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,mBAAmB,CAAC,EAAE;QACjE,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QACA,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM;IAClB;AACF;AAKO,eAAe;IACpB,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,OAAO,CAAC;IACrD,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 774, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rumai/OneDrive/Desktop/SAFE-DISCHARGE-AI/imagine%20cup%20project/dashboard/app/components/AIOutput.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Bot, ThumbsUp, ThumbsDown, Globe, Share2, Printer, Sparkles, Copy, Download, CheckCircle, AlertCircle, Zap } from \"lucide-react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { analyzePatient, generateDischarge, submitFeedback, type AnalysisResponse, type DischargeInstructions } from \"../services/api\";\r\nimport { MOCK_PATIENT } from \"./MockData\";\r\n\r\nexport default function AIOutput() {\r\n    const [loading, setLoading] = useState(false);\r\n    const [analysis, setAnalysis] = useState<AnalysisResponse | null>(null);\r\n    const [discharge, setDischarge] = useState<DischargeInstructions | null>(null);\r\n    const [lang, setLang] = useState(\"English\");\r\n    const [feedback, setFeedback] = useState<string | null>(null);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [copied, setCopied] = useState(false);\r\n\r\n    const handleGenerate = async () => {\r\n        setLoading(true);\r\n        setError(null);\r\n        \r\n        try {\r\n            const analysisResult = await analyzePatient(MOCK_PATIENT);\r\n            setAnalysis(analysisResult);\r\n            \r\n            const dischargeResult = await generateDischarge(MOCK_PATIENT, analysisResult);\r\n            setDischarge(dischargeResult);\r\n            \r\n        } catch (err: any) {\r\n            setError(err.message || 'Failed to generate analysis');\r\n            console.error('Analysis error:', err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleFeedback = async (value: string) => {\r\n        setFeedback(value);\r\n        try {\r\n            await submitFeedback({\r\n                alert_id: 'analysis-' + Date.now(),\r\n                action: value === 'up' ? 'accepted' : 'rejected',\r\n                clinician_note: value === 'up' ? 'Helpful analysis' : 'Needs improvement'\r\n            });\r\n        } catch (err) {\r\n            console.error('Feedback error:', err);\r\n        }\r\n    };\r\n\r\n    const handleCopy = () => {\r\n        setCopied(true);\r\n        setTimeout(() => setCopied(false), 2000);\r\n    };\r\n\r\n    const translations: any = {\r\n        \"English\": discharge?.patient_facing || \"Click 'Analyze Patient' to generate instructions\",\r\n        \"Spanish\": \"Contin√∫e monitoreando el INR diariamente. Evite alimentos con alto contenido de vitamina K. Detenga el ibuprofeno de inmediato.\",\r\n        \"Urdu\": \"ÿ±Ÿàÿ≤ÿßŸÜ€Å INR ⁄©€å ŸÜ⁄Øÿ±ÿßŸÜ€å ÿ¨ÿßÿ±€å ÿ±⁄©⁄æ€å⁄∫€î ŸàŸπÿßŸÖŸÜ K ŸàÿßŸÑ€å ÿßÿ¥€åÿß ÿ≥€í Ÿæÿ±€Å€åÿ≤ ⁄©ÿ±€å⁄∫€î ÿ¢ÿ¶€åÿ®ŸàŸæÿ±ŸàŸÅ€åŸÜ ŸÅŸàÿ±€å ÿ∑Ÿàÿ± Ÿæÿ± ÿ®ŸÜÿØ ⁄©ÿ± ÿØ€å⁄∫€î\"\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col h-full gap-6\">\r\n            {/* Header with Actions */}\r\n            <div className=\"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 pb-4 border-b border-slate-700\">\r\n                <div className=\"flex items-center gap-3\">\r\n                    <div className=\"w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-lg\">\r\n                        <Bot size={28} className=\"text-white\" />\r\n                    </div>\r\n                    <div>\r\n                        <h1 className=\"text-2xl font-bold text-white\">Clinical AI Analysis</h1>\r\n                        <p className=\"text-sm text-slate-400 font-medium\">Evidence-Based Safety Assessment</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-2\">\r\n                    <button className=\"p-2 text-slate-400 hover:text-blue-400 hover:bg-slate-700 rounded-lg transition-colors\" title=\"Print\">\r\n                        <Printer size={20} />\r\n                    </button>\r\n                    <button className=\"p-2 text-slate-400 hover:text-blue-400 hover:bg-slate-700 rounded-lg transition-colors\" title=\"Share\">\r\n                        <Share2 size={20} />\r\n                    </button>\r\n                    <button\r\n                        onClick={handleGenerate}\r\n                        disabled={loading}\r\n                        className=\"btn-primary px-6 gap-2\"\r\n                    >\r\n                        {loading ? (\r\n                            <>\r\n                                <Zap size={18} className=\"animate-spin\" />\r\n                                Analyzing...\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <Sparkles size={18} />\r\n                                Analyze Patient\r\n                            </>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {error && (\r\n                <div className=\"p-4 alert-card-critical rounded-xl flex items-start gap-3\">\r\n                    <AlertCircle size={20} className=\"mt-0.5 flex-shrink-0\" />\r\n                    <div>\r\n                        <div className=\"font-bold\">Analysis Error</div>\r\n                        <p className=\"text-sm mt-1\">{error}</p>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {!analysis && !loading ? (\r\n                <div className=\"flex-1 flex flex-col items-center justify-center bg-gradient-to-br from-slate-800/30 to-slate-700/30 border-2 border-dashed border-slate-600 rounded-3xl\">\r\n                    <Zap size={56} className=\"text-slate-600 mb-4\" />\r\n                    <p className=\"text-slate-300 font-semibold text-lg\">Ready for Analysis</p>\r\n                    <p className=\"text-sm text-slate-400 mt-2\">Click \"Analyze Patient\" to generate safety assessment</p>\r\n                </div>\r\n            ) : loading ? (\r\n                <div className=\"flex-1 space-y-4 pt-10 px-8\">\r\n                    <div className=\"h-6 bg-gradient-to-r from-slate-700 to-transparent rounded-full animate-pulse w-3/4\" />\r\n                    <div className=\"h-4 bg-gradient-to-r from-slate-700 to-transparent rounded-full animate-pulse w-full\" />\r\n                    <div className=\"h-4 bg-gradient-to-r from-slate-700 to-transparent rounded-full animate-pulse w-5/6\" />\r\n                    <div className=\"h-32 bg-slate-700/30 rounded-2xl animate-pulse mt-8\" />\r\n                </div>\r\n            ) : (\r\n                <div className=\"flex-1 overflow-y-auto clinical-scroll space-y-6 pr-4\">\r\n                    {/* Summary Card */}\r\n                    <motion.div\r\n                        initial={{ y: 20, opacity: 0 }}\r\n                        animate={{ y: 0, opacity: 1 }}\r\n                        className=\"bg-gradient-to-br from-blue-900/30 to-blue-800/20 border border-blue-700/50 rounded-2xl p-6\"\r\n                    >\r\n                        <div className=\"flex justify-between items-start mb-4\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <CheckCircle size={20} className=\"text-blue-400\" />\r\n                                <h2 className=\"text-sm font-bold uppercase tracking-widest text-blue-300\">Analysis Summary</h2>\r\n                            </div>\r\n                            <FeedbackLoop onFeedback={handleFeedback} active={feedback} />\r\n                        </div>\r\n                        <p className=\"text-lg text-slate-100 leading-relaxed font-medium\">\r\n                            {analysis?.summary}\r\n                        </p>\r\n                    </motion.div>\r\n\r\n                    {/* Risk Stratification */}\r\n                    {analysis?.risk_stratification && (\r\n                        <motion.div\r\n                            initial={{ y: 20, opacity: 0 }}\r\n                            animate={{ y: 0, opacity: 1 }}\r\n                            transition={{ delay: 0.1 }}\r\n                            className=\"bg-gradient-to-br from-purple-900/30 to-purple-800/20 border border-purple-700/50 rounded-2xl p-6\"\r\n                        >\r\n                            <h2 className=\"text-sm font-bold uppercase tracking-widest text-purple-300 mb-4\">Risk Stratification</h2>\r\n                            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                                <RiskMetric label=\"Overall Risk\" value={analysis.risk_stratification.overall_risk} />\r\n                                <RiskMetric label=\"Risk Score\" value={`${analysis.risk_stratification.risk_score}/100`} />\r\n                                <RiskMetric label=\"Critical\" value={analysis.risk_stratification.critical_count} color=\"red\" />\r\n                                <RiskMetric label=\"High\" value={analysis.risk_stratification.high_count} color=\"orange\" />\r\n                            </div>\r\n                            <p className=\"text-sm text-slate-300 mt-4 p-3 bg-slate-700/30 rounded-lg\">\r\n                                <span className=\"font-semibold text-slate-200\">Clinical Reasoning:</span> {analysis.risk_stratification.clinical_reasoning}\r\n                            </p>\r\n                        </motion.div>\r\n                    )}\r\n\r\n                    {/* Comprehension Analysis */}\r\n                    {discharge?.comprehension_analysis && (\r\n                        <motion.div\r\n                            initial={{ y: 20, opacity: 0 }}\r\n                            animate={{ y: 0, opacity: 1 }}\r\n                            transition={{ delay: 0.2 }}\r\n                            className=\"bg-gradient-to-br from-emerald-900/30 to-emerald-800/20 border border-emerald-700/50 rounded-2xl p-6\"\r\n                        >\r\n                            <h2 className=\"text-sm font-bold uppercase tracking-widest text-emerald-300 mb-4\">Patient Comprehension</h2>\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                                <div className=\"bg-slate-700/30 rounded-lg p-4 text-center\">\r\n                                    <div className=\"text-3xl font-bold text-emerald-400\">{discharge.comprehension_analysis.score}</div>\r\n                                    <div className=\"text-xs text-slate-400 mt-1\">Comprehension Score</div>\r\n                                </div>\r\n                                <div className=\"bg-slate-700/30 rounded-lg p-4\">\r\n                                    <div className=\"font-semibold text-emerald-400\">Reading Level</div>\r\n                                    <div className=\"text-sm text-slate-300 mt-1\">Grade {discharge.comprehension_analysis.reading_level}</div>\r\n                                </div>\r\n                                <div className=\"bg-slate-700/30 rounded-lg p-4\">\r\n                                    <div className=\"font-semibold text-slate-300\">{discharge.comprehension_analysis.interpretation}</div>\r\n                                </div>\r\n                            </div>\r\n                            {discharge.comprehension_analysis.jargon_detected.length > 0 && (\r\n                                <div className=\"text-xs text-orange-400 mt-3 p-2 bg-orange-900/20 rounded-lg\">\r\n                                    ‚ö†Ô∏è Complex terms found: {discharge.comprehension_analysis.jargon_detected.join(', ')}\r\n                                </div>\r\n                            )}\r\n                        </motion.div>\r\n                    )}\r\n\r\n                    {/* Discharge Instructions */}\r\n                    {discharge && (\r\n                        <motion.div\r\n                            initial={{ y: 20, opacity: 0 }}\r\n                            animate={{ y: 0, opacity: 1 }}\r\n                            transition={{ delay: 0.3 }}\r\n                            className=\"bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-700 rounded-2xl overflow-hidden\"\r\n                        >\r\n                            <div className=\"bg-slate-700/50 p-4 border-b border-slate-700 flex justify-between items-center\">\r\n                                <div className=\"flex items-center gap-2\">\r\n                                    <Globe size={18} className=\"text-blue-400\" />\r\n                                    <h2 className=\"text-sm font-bold uppercase tracking-widest text-slate-300\">Patient Instructions</h2>\r\n                                </div>\r\n                                <button \r\n                                    onClick={handleCopy}\r\n                                    className=\"p-2 text-slate-400 hover:text-blue-400 hover:bg-slate-600 rounded-lg transition-colors\"\r\n                                >\r\n                                    {copied ? <CheckCircle size={18} className=\"text-green-400\" /> : <Copy size={18} />}\r\n                                </button>\r\n                            </div>\r\n                            \r\n                            <div className=\"p-6\">\r\n                                <div className=\"flex gap-2 mb-4 flex-wrap\">\r\n                                    {[\"English\", \"Spanish\", \"Urdu\"].map((l) => (\r\n                                        <button\r\n                                            key={l}\r\n                                            onClick={() => setLang(l)}\r\n                                            className={`px-4 py-2 text-xs font-bold rounded-lg transition-all ${\r\n                                                lang === l \r\n                                                    ? 'bg-blue-600 text-white shadow-lg' \r\n                                                    : 'bg-slate-700 text-slate-300 hover:bg-slate-600'\r\n                                            }`}\r\n                                        >\r\n                                            {l}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                                <p className=\"text-slate-200 leading-relaxed text-base\">\r\n                                    {translations[lang]}\r\n                                </p>\r\n                            </div>\r\n                        </motion.div>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction RiskMetric({ label, value, color }: { label: string; value: any; color?: string }) {\r\n    const colorClass = {\r\n        red: 'text-red-400 bg-red-900/20',\r\n        orange: 'text-orange-400 bg-orange-900/20',\r\n        default: 'text-blue-400 bg-blue-900/20'\r\n    }[color || 'default'];\r\n\r\n    return (\r\n        <div className=\"bg-slate-700/30 border border-slate-600 rounded-lg p-3 text-center\">\r\n            <div className={`text-2xl font-bold ${colorClass}`}>{value}</div>\r\n            <div className=\"text-xs text-slate-400 mt-2 font-semibold\">{label}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction FeedbackLoop({ onFeedback, active }: { onFeedback: (v: string) => void, active: string | null }) {\r\n    return (\r\n        <div className=\"flex gap-1 bg-slate-700/30 rounded-lg p-1\">\r\n            <button\r\n                onClick={() => onFeedback('up')}\r\n                className={`p-2 rounded-md transition-all ${\r\n                    active === 'up' \r\n                        ? 'bg-green-600 text-green-100 shadow-lg' \r\n                        : 'text-slate-400 hover:text-green-400 hover:bg-slate-600'\r\n                }`}\r\n                title=\"Helpful\"\r\n            >\r\n                <ThumbsUp size={16} />\r\n            </button>\r\n            <button\r\n                onClick={() => onFeedback('down')}\r\n                className={`p-2 rounded-md transition-all ${\r\n                    active === 'down' \r\n                        ? 'bg-red-600 text-red-100 shadow-lg' \r\n                        : 'text-slate-400 hover:text-red-400 hover:bg-slate-600'\r\n                }`}\r\n                title=\"Needs improvement\"\r\n            >\r\n                <ThumbsDown size={16} />\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1567, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rumai/OneDrive/Desktop/SAFE-DISCHARGE-AI/imagine%20cup%20project/dashboard/app/components/SafetyAlerts.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { AlertCircle, AlertTriangle, CheckCircle2, ChevronRight, Shield, Zap, TrendingUp } from \"lucide-react\";\r\nimport { MOCK_ANALYSIS } from \"./MockData\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\nexport default function SafetyAlerts({ onCitationClick }: { onCitationClick: (citation: any) => void }) {\r\n    const { flags } = MOCK_ANALYSIS;\r\n    const criticalCount = flags.filter(f => f.severity === \"Red\").length;\r\n    const warningCount = flags.filter(f => f.severity === \"Yellow\").length;\r\n\r\n    return (\r\n        <div className=\"flex flex-col h-full gap-4\">\r\n            {/* Header */}\r\n            <div className=\"flex justify-between items-center\">\r\n                <h3 className=\"section-title\">\r\n                    <Shield size={20} className=\"text-red-400\" />\r\n                    Clinical Safety Alerts\r\n                </h3>\r\n                <div className=\"badge-critical\">\r\n                    {flags.length} Issues\r\n                </div>\r\n            </div>\r\n\r\n            {/* Alert Summary */}\r\n            <div className=\"grid grid-cols-3 gap-2\">\r\n                <AlertStatCard count={criticalCount} label=\"Critical\" color=\"red\" />\r\n                <AlertStatCard count={warningCount} label=\"High Risk\" color=\"orange\" />\r\n                <AlertStatCard count={flags.filter(f => f.severity === \"Green\").length} label=\"Passed\" color=\"green\" />\r\n            </div>\r\n\r\n            {/* Alert List */}\r\n            <div className=\"flex flex-col gap-3 overflow-y-auto clinical-scroll pr-1 flex-1\">\r\n                <AnimatePresence>\r\n                    {flags.map((flag, i) => (\r\n                        <motion.div\r\n                            key={i}\r\n                            initial={{ x: 20, opacity: 0 }}\r\n                            animate={{ x: 0, opacity: 1 }}\r\n                            transition={{ delay: i * 0.08 }}\r\n                            className={`rounded-xl border-l-4 p-4 transition-all hover:shadow-lg ${\r\n                                flag.severity === \"Red\"\r\n                                    ? \"alert-card-critical border-l-red-600\"\r\n                                    : flag.severity === \"Yellow\"\r\n                                    ? \"alert-card-moderate border-l-yellow-600\"\r\n                                    : \"bg-green-900/20 border-l-green-600 text-green-200\"\r\n                            }`}\r\n                        >\r\n                            <div className=\"flex gap-3\">\r\n                                <div className=\"shrink-0 mt-0.5\">\r\n                                    {flag.severity === \"Red\" && <AlertCircle size={20} className=\"text-red-500\" />}\r\n                                    {flag.severity === \"Yellow\" && <AlertTriangle size={20} className=\"text-yellow-500\" />}\r\n                                    {flag.severity === \"Green\" && <CheckCircle2 size={20} className=\"text-green-500\" />}\r\n                                </div>\r\n                                <div className=\"flex flex-col gap-2 flex-1\">\r\n                                    <h4 className=\"font-semibold text-sm leading-tight\">{flag.title}</h4>\r\n                                    <p className=\"text-xs opacity-90 leading-relaxed\">{flag.description}</p>\r\n\r\n                                    {flag.action_required && (\r\n                                        <div className=\"mt-2 p-2.5 bg-slate-900/40 rounded-lg text-xs font-semibold border border-slate-700\">\r\n                                            <span className=\"font-bold\">Action Required:</span> {flag.action_required}\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    <div className=\"mt-2 flex flex-wrap gap-2\">\r\n                                        {flag.citations.map((cite, j) => (\r\n                                            <button\r\n                                                key={j}\r\n                                                onClick={() => onCitationClick(cite)}\r\n                                                className=\"text-[10px] font-bold px-2 py-1 rounded-full bg-slate-700/40 hover:bg-slate-600 transition-all flex items-center gap-1\"\r\n                                            >\r\n                                                üìö {cite.source_name.split(\" \")[0]} <ChevronRight size={12} />\r\n                                            </button>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </motion.div>\r\n                    ))}\r\n                </AnimatePresence>\r\n            </div>\r\n\r\n            {/* System Status Card */}\r\n            <div className=\"glass-card p-4 rounded-2xl border-2 border-emerald-700/30 bg-emerald-900/10\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <Zap size={16} className=\"text-emerald-400 animate-pulse\" />\r\n                        <span className=\"text-xs font-bold text-emerald-400 uppercase tracking-widest\">System Status</span>\r\n                    </div>\r\n                    <div className=\"text-xs font-semibold text-emerald-300\">Connected</div>\r\n                </div>\r\n                <div className=\"text-xs text-slate-400 mt-2\">\r\n                    Last scan: {new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction AlertStatCard({ count, label, color }: { count: number; label: string; color: 'red' | 'orange' | 'green' }) {\r\n    const colorMap = {\r\n        red: 'bg-red-900/20 border-red-700 text-red-400',\r\n        orange: 'bg-orange-900/20 border-orange-700 text-orange-400',\r\n        green: 'bg-green-900/20 border-green-700 text-green-400'\r\n    };\r\n\r\n    return (\r\n        <div className={`${colorMap[color]} border rounded-lg p-3 text-center`}>\r\n            <div className=\"text-2xl font-bold\">{count}</div>\r\n            <div className=\"text-xs font-semibold mt-1 opacity-80\">{label}</div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAJA;;;;;AAMe,SAAS,aAAa,EAAE,eAAe,EAAgD;IAClG,MAAM,EAAE,KAAK,EAAE,GAAG,8IAAa;IAC/B,MAAM,gBAAgB,MAAM,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK,OAAO,MAAM;IACpE,MAAM,eAAe,MAAM,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK,UAAU,MAAM;IAEtE,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;;0CACV,8OAAC,gNAAM;gCAAC,MAAM;gCAAI,WAAU;;;;;;4BAAiB;;;;;;;kCAGjD,8OAAC;wBAAI,WAAU;;4BACV,MAAM,MAAM;4BAAC;;;;;;;;;;;;;0BAKtB,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAc,OAAO;wBAAe,OAAM;wBAAW,OAAM;;;;;;kCAC5D,8OAAC;wBAAc,OAAO;wBAAc,OAAM;wBAAY,OAAM;;;;;;kCAC5D,8OAAC;wBAAc,OAAO,MAAM,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK,SAAS,MAAM;wBAAE,OAAM;wBAAS,OAAM;;;;;;;;;;;;0BAIjG,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,4MAAe;8BACX,MAAM,GAAG,CAAC,CAAC,MAAM,kBACd,8OAAC,oMAAM,CAAC,GAAG;4BAEP,SAAS;gCAAE,GAAG;gCAAI,SAAS;4BAAE;4BAC7B,SAAS;gCAAE,GAAG;gCAAG,SAAS;4BAAE;4BAC5B,YAAY;gCAAE,OAAO,IAAI;4BAAK;4BAC9B,WAAW,CAAC,yDAAyD,EACjE,KAAK,QAAQ,KAAK,QACZ,yCACA,KAAK,QAAQ,KAAK,WAClB,4CACA,qDACR;sCAEF,cAAA,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAI,WAAU;;4CACV,KAAK,QAAQ,KAAK,uBAAS,8OAAC,mOAAW;gDAAC,MAAM;gDAAI,WAAU;;;;;;4CAC5D,KAAK,QAAQ,KAAK,0BAAY,8OAAC,yOAAa;gDAAC,MAAM;gDAAI,WAAU;;;;;;4CACjE,KAAK,QAAQ,KAAK,yBAAW,8OAAC,qOAAY;gDAAC,MAAM;gDAAI,WAAU;;;;;;;;;;;;kDAEpE,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;gDAAG,WAAU;0DAAuC,KAAK,KAAK;;;;;;0DAC/D,8OAAC;gDAAE,WAAU;0DAAsC,KAAK,WAAW;;;;;;4CAElE,KAAK,eAAe,kBACjB,8OAAC;gDAAI,WAAU;;kEACX,8OAAC;wDAAK,WAAU;kEAAY;;;;;;oDAAuB;oDAAE,KAAK,eAAe;;;;;;;0DAIjF,8OAAC;gDAAI,WAAU;0DACV,KAAK,SAAS,CAAC,GAAG,CAAC,CAAC,MAAM,kBACvB,8OAAC;wDAEG,SAAS,IAAM,gBAAgB;wDAC/B,WAAU;;4DACb;4DACO,KAAK,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;4DAAC;0EAAC,8OAAC,sOAAY;gEAAC,MAAM;;;;;;;uDAJnD;;;;;;;;;;;;;;;;;;;;;;2BA/BpB;;;;;;;;;;;;;;;0BA+CrB,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,uMAAG;wCAAC,MAAM;wCAAI,WAAU;;;;;;kDACzB,8OAAC;wCAAK,WAAU;kDAA+D;;;;;;;;;;;;0CAEnF,8OAAC;gCAAI,WAAU;0CAAyC;;;;;;;;;;;;kCAE5D,8OAAC;wBAAI,WAAU;;4BAA8B;4BAC7B,IAAI,OAAO,kBAAkB,CAAC,EAAE,EAAE;gCAAE,MAAM;gCAAW,QAAQ;4BAAU;;;;;;;;;;;;;;;;;;;AAKvG;AAEA,SAAS,cAAc,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAuE;IAC/G,MAAM,WAAW;QACb,KAAK;QACL,QAAQ;QACR,OAAO;IACX;IAEA,qBACI,8OAAC;QAAI,WAAW,GAAG,QAAQ,CAAC,MAAM,CAAC,kCAAkC,CAAC;;0BAClE,8OAAC;gBAAI,WAAU;0BAAsB;;;;;;0BACrC,8OAAC;gBAAI,WAAU;0BAAyC;;;;;;;;;;;;AAGpE"}},
    {"offset": {"line": 1919, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rumai/OneDrive/Desktop/SAFE-DISCHARGE-AI/imagine%20cup%20project/dashboard/app/components/CitationModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { X, ExternalLink, ShieldCheck } from \"lucide-react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\nexport default function CitationModal({ citation, isOpen, onClose }: { citation: any, isOpen: boolean, onClose: () => void }) {\r\n    if (!isOpen || !citation) return null;\r\n\r\n    return (\r\n        <AnimatePresence>\r\n            <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n                <motion.div\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    exit={{ opacity: 0 }}\r\n                    onClick={onClose}\r\n                    className=\"absolute inset-0 bg-slate-900/40 backdrop-blur-sm\"\r\n                />\r\n                <motion.div\r\n                    initial={{ scale: 0.9, opacity: 0, y: 20 }}\r\n                    animate={{ scale: 1, opacity: 1, y: 0 }}\r\n                    exit={{ scale: 0.9, opacity: 0, y: 20 }}\r\n                    className=\"relative w-full max-w-lg bg-white rounded-3xl shadow-2xl overflow-hidden\"\r\n                >\r\n                    <div className=\"p-6\">\r\n                        <div className=\"flex justify-between items-start mb-6\">\r\n                            <div className=\"flex items-center gap-3\">\r\n                                <div className=\"w-12 h-12 bg-emerald-100 text-emerald-600 rounded-2xl flex items-center justify-center\">\r\n                                    <ShieldCheck size={28} />\r\n                                </div>\r\n                                <div>\r\n                                    <h3 className=\"text-xl font-bold text-slate-900\">{citation.source_name}</h3>\r\n                                    <p className=\"text-xs text-slate-500 font-bold uppercase tracking-wider\">{citation.section || \"Clinical Guideline\"}</p>\r\n                                </div>\r\n                            </div>\r\n                            <button onClick={onClose} className=\"p-2 text-slate-400 hover:bg-slate-50 rounded-xl\">\r\n                                <X size={20} />\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"bg-slate-50 rounded-2xl p-6 mb-6 border border-slate-100\">\r\n                            <div className=\"text-[10px] font-bold text-emerald-600 uppercase tracking-widest mb-3 flex items-center gap-2\">\r\n                                <span className=\"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-ping\" />\r\n                                Verified Clinical Snippet\r\n                            </div>\r\n                            <p className=\"text-slate-700 leading-relaxed italic text-lg\">\r\n                                \"{citation.snippet || \"Full text content from verified medical source.\"}\"\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className=\"flex gap-3\">\r\n                            <button className=\"flex-1 btn-primary py-3\">\r\n                                View Full Protocol <ExternalLink size={16} />\r\n                            </button>\r\n                            <button onClick={onClose} className=\"px-6 py-3 text-slate-500 font-bold border border-slate-200 rounded-xl hover:bg-slate-50\">\r\n                                Close\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"bg-emerald-600 px-6 py-2 text-[10px] text-white font-bold text-center tracking-widest uppercase\">\r\n                        Clinical Safety Verified by Evidence-Based Guidelines\r\n                    </div>\r\n                </motion.div>\r\n            </div>\r\n        </AnimatePresence>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AACA;AAAA;AAHA;;;;AAKe,SAAS,cAAc,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAA2D;IACxH,IAAI,CAAC,UAAU,CAAC,UAAU,OAAO;IAEjC,qBACI,8OAAC,4MAAe;kBACZ,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC,oMAAM,CAAC,GAAG;oBACP,SAAS;wBAAE,SAAS;oBAAE;oBACtB,SAAS;wBAAE,SAAS;oBAAE;oBACtB,MAAM;wBAAE,SAAS;oBAAE;oBACnB,SAAS;oBACT,WAAU;;;;;;8BAEd,8OAAC,oMAAM,CAAC,GAAG;oBACP,SAAS;wBAAE,OAAO;wBAAK,SAAS;wBAAG,GAAG;oBAAG;oBACzC,SAAS;wBAAE,OAAO;wBAAG,SAAS;wBAAG,GAAG;oBAAE;oBACtC,MAAM;wBAAE,OAAO;wBAAK,SAAS;wBAAG,GAAG;oBAAG;oBACtC,WAAU;;sCAEV,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAI,WAAU;8DACX,cAAA,8OAAC,mOAAW;wDAAC,MAAM;;;;;;;;;;;8DAEvB,8OAAC;;sEACG,8OAAC;4DAAG,WAAU;sEAAoC,SAAS,WAAW;;;;;;sEACtE,8OAAC;4DAAE,WAAU;sEAA6D,SAAS,OAAO,IAAI;;;;;;;;;;;;;;;;;;sDAGtG,8OAAC;4CAAO,SAAS;4CAAS,WAAU;sDAChC,cAAA,8OAAC,iMAAC;gDAAC,MAAM;;;;;;;;;;;;;;;;;8CAIjB,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAK,WAAU;;;;;;gDAAyD;;;;;;;sDAG7E,8OAAC;4CAAE,WAAU;;gDAAgD;gDACvD,SAAS,OAAO,IAAI;gDAAkD;;;;;;;;;;;;;8CAIhF,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAO,WAAU;;gDAA0B;8DACrB,8OAAC,sOAAY;oDAAC,MAAM;;;;;;;;;;;;sDAE3C,8OAAC;4CAAO,SAAS;4CAAS,WAAU;sDAA0F;;;;;;;;;;;;;;;;;;sCAMtI,8OAAC;4BAAI,WAAU;sCAAkG;;;;;;;;;;;;;;;;;;;;;;;AAOrI"}},
    {"offset": {"line": 2157, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rumai/OneDrive/Desktop/SAFE-DISCHARGE-AI/imagine%20cup%20project/dashboard/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport PatientDetails from \"./components/PatientDetails\";\nimport AIOutput from \"./components/AIOutput\";\nimport SafetyAlerts from \"./components/SafetyAlerts\";\nimport CitationModal from \"./components/CitationModal\";\nimport { Activity, AlertCircle, FileText, Home, LogOut, Menu, Shield, Stethoscope, X } from \"lucide-react\";\n\nexport default function MissionControl() {\n  const [selectedCitation, setSelectedCitation] = useState<any>(null);\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n\n  return (\n    <div className=\"flex h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 overflow-hidden font-sans\">\n      {/* Sidebar */}\n      <aside className={`fixed inset-y-0 left-0 z-40 w-64 bg-slate-950 border-r border-slate-700 transform transition-transform duration-300 ${\n        sidebarOpen ? 'translate-x-0' : '-translate-x-full'\n      } lg:relative lg:translate-x-0 overflow-y-auto`}>\n        {/* Logo Section */}\n        <div className=\"h-20 flex items-center justify-between px-6 border-b border-slate-700\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center text-white shadow-lg\">\n              <Stethoscope size={24} />\n            </div>\n            <div>\n              <div className=\"font-bold text-white text-sm\">SafeDischarge</div>\n              <div className=\"text-xs text-blue-400\">AI Copilot</div>\n            </div>\n          </div>\n          <button onClick={() => setSidebarOpen(false)} className=\"lg:hidden text-slate-400 hover:text-white\">\n            <X size={20} />\n          </button>\n        </div>\n\n        {/* Navigation */}\n        <nav className=\"px-4 py-6 space-y-2\">\n          <a href=\"#\" className=\"flex items-center gap-3 px-4 py-3 rounded-lg bg-blue-600 text-white font-medium\">\n            <Home size={20} /> Dashboard\n          </a>\n          <a href=\"#\" className=\"flex items-center gap-3 px-4 py-3 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition\">\n            <Activity size={20} /> Patients\n          </a>\n          <a href=\"#\" className=\"flex items-center gap-3 px-4 py-3 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition\">\n            <FileText size={20} /> Reports\n          </a>\n          <a href=\"#\" className=\"flex items-center gap-3 px-4 py-3 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition\">\n            <Shield size={20} /> Guidelines\n          </a>\n        </nav>\n\n        {/* Footer */}\n        <div className=\"absolute bottom-0 left-0 right-0 p-4 border-t border-slate-700 bg-slate-900\">\n          <div className=\"flex items-center gap-3 mb-4 pb-4 border-b border-slate-700\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-500 rounded-full flex items-center justify-center text-white font-bold text-sm\">\n              DR\n            </div>\n            <div className=\"text-sm\">\n              <div className=\"font-semibold text-white\">Dr. Smith</div>\n              <div className=\"text-xs text-slate-400\">ED Physician</div>\n            </div>\n          </div>\n          <button className=\"w-full flex items-center gap-2 px-4 py-2 rounded-lg text-slate-400 hover:text-red-400 hover:bg-slate-800 transition text-sm\">\n            <LogOut size={18} /> Logout\n          </button>\n        </div>\n      </aside>\n\n      {/* Main Content */}\n      <main className=\"flex-1 flex flex-col overflow-hidden\">\n        {/* Top Header */}\n        <header className=\"h-20 bg-slate-800 border-b border-slate-700 px-6 flex items-center justify-between shadow-lg\">\n          <div className=\"flex items-center gap-4\">\n            <button \n              onClick={() => setSidebarOpen(!sidebarOpen)} \n              className=\"lg:hidden text-slate-400 hover:text-white\"\n            >\n              <Menu size={24} />\n            </button>\n            <div>\n              <h1 className=\"text-2xl font-bold text-white\">Clinical Assessment</h1>\n              <p className=\"text-sm text-slate-400\">AI-Powered Patient Safety Analysis</p>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center gap-6\">\n            <div className=\"flex items-center gap-2 px-4 py-2 bg-emerald-500/10 border border-emerald-500/30 rounded-lg\">\n              <span className=\"w-2 h-2 bg-emerald-500 rounded-full animate-pulse\" />\n              <span className=\"text-sm font-medium text-emerald-400\">System Ready</span>\n            </div>\n            <div className=\"text-right\">\n              <div className=\"text-xs font-semibold text-slate-300\">v1.2.0</div>\n              <div className=\"text-xs text-slate-500\">Emergency Dept</div>\n            </div>\n          </div>\n        </header>\n\n        {/* Content Area */}\n        <div className=\"flex-1 flex flex-col lg:flex-row gap-6 p-6 overflow-hidden\">\n          {/* Left Panel: Patient Input & Details */}\n          <section className=\"w-full lg:w-96 flex flex-col gap-6 overflow-y-auto clinical-scroll\">\n            <div className=\"space-y-4\">\n              <h2 className=\"text-lg font-bold text-white flex items-center gap-2\">\n                <Activity size={20} className=\"text-blue-400\" />\n                Patient Information\n              </h2>\n              <PatientDetails />\n            </div>\n          </section>\n\n          {/* Center Panel: AI Analysis & Output */}\n          <section className=\"flex-1 flex flex-col gap-6 overflow-hidden\">\n            <div className=\"flex-1 bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl border border-slate-700 shadow-2xl p-8 overflow-y-auto clinical-scroll\">\n              <div className=\"space-y-6\">\n                <div>\n                  <h2 className=\"text-xl font-bold text-white flex items-center gap-2 mb-4\">\n                    <FileText size={24} className=\"text-blue-400\" />\n                    Clinical Analysis\n                  </h2>\n                </div>\n                <AIOutput />\n              </div>\n            </div>\n          </section>\n\n          {/* Right Panel: Safety Alerts & Recommendations */}\n          <section className=\"w-full lg:w-96 flex flex-col gap-6 overflow-y-auto clinical-scroll\">\n            <div className=\"space-y-4\">\n              <h2 className=\"text-lg font-bold text-white flex items-center gap-2\">\n                <AlertCircle size={20} className=\"text-red-400\" />\n                Safety Alerts\n              </h2>\n              <SafetyAlerts onCitationClick={(c) => setSelectedCitation(c)} />\n            </div>\n          </section>\n        </div>\n      </main>\n\n      {/* Sidebar Overlay for Mobile */}\n      {sidebarOpen && (\n        <div \n          className=\"fixed inset-0 bg-black/50 z-30 lg:hidden\"\n          onClick={() => setSidebarOpen(false)}\n        />\n      )}\n\n      {/* Shared Components */}\n      <CitationModal\n        isOpen={!!selectedCitation}\n        citation={selectedCitation}\n        onClose={() => setSelectedCitation(null)}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}